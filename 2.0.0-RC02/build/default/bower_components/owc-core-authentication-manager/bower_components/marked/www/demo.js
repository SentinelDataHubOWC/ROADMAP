$(function(){var a=$('#input'),b=$('#outputType'),c=$('#preview'),d=$('#html'),f=$('#lexer'),g=$('#syntax'),h=!0,k=null;top.document.location.href.match(/\?blank=1$/)&&a.val(''),b.change(function(){$('#rightContainer .pane').hide(),k=$('#'+b.val()).show()}).change();var l=function(){h=!0};a.change(l).keyup(l).keypress(l).keydown(l);var m=function(s){var t=(s+'').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/\t/g,'\\t').replace(/\f/g,'\\f').replace(/[\\"']/g,'\\$&').replace(/\u0000/g,'\\0');return'"'+t+'"'},n=function(){var s=k[0];return s.scrollHeight-s.clientHeight},o=function(){var s=n();return 0>=s?1:k.scrollTop()/s},p=function(s){k.scrollTop(s*n())},q=1,r=function(){if(h){h=!1;for(var y,s=new Date,t=o(),u=a.val(),v=marked.lexer(u),w=[],x=0;x<v.length;x++){for(var z in y=[],v[x])y.push(z+':'+m(v[x][z]));w.push('{'+y.join(', ')+'}')}var A=marked.parser(v);c.html(A),d.val(A),f.val(w.join('\n')),p(t);var B=new Date;q=B-s,50>q?q=50:500<q&&(q=1e3)}window.setTimeout(r,q)};r(),p(0)});