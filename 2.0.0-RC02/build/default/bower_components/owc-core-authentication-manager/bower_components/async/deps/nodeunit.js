nodeunit=function(){var JSON={};(function(){'use strict';function f(g){return 10>g?'0'+g:g}function quote(g){return escapable.lastIndex=0,escapable.test(g)?'"'+g.replace(escapable,function(h){var l=meta[h];return'string'===typeof l?l:'\\u'+('0000'+h.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+g+'"'}function str(g,h){var l,m,o,p,t,s=gap,u=h[g];switch(u&&'object'===typeof u&&'function'===typeof u.toJSON&&(u=u.toJSON(g)),'function'===typeof rep&&(u=rep.call(h,g,u)),typeof u){case'string':return quote(u);case'number':return isFinite(u)?u+'':'null';case'boolean':case'null':return u+'';case'object':if(!u)return'null';if(gap+=indent,t=[],'[object Array]'===Object.prototype.toString.apply(u)){for(p=u.length,l=0;l<p;l+=1)t[l]=str(l,u)||'null';return o=0===t.length?'[]':gap?'[\n'+gap+t.join(',\n'+gap)+'\n'+s+']':'['+t.join(',')+']',gap=s,o}if(rep&&'object'===typeof rep)for(p=rep.length,l=0;l<p;l+=1)m=rep[l],'string'===typeof m&&(o=str(m,u),o&&t.push(quote(m)+(gap?': ':':')+o));else for(m in u)Object.hasOwnProperty.call(u,m)&&(o=str(m,u),o&&t.push(quote(m)+(gap?': ':':')+o));return o=0===t.length?'{}':gap?'{\n'+gap+t.join(',\n'+gap)+'\n'+s+'}':'{'+t.join(',')+'}',gap=s,o;}}'function'!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'Z':null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var gap,indent,rep,cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};'function'!==typeof JSON.stringify&&(JSON.stringify=function(g,h,l){var m;if(gap='',indent='','number'===typeof l)for(m=0;m<l;m+=1)indent+=' ';else'string'===typeof l&&(indent=l);if(rep=h,h&&'function'!==typeof h&&('object'!==typeof h||'number'!==typeof h.length))throw new Error('JSON.stringify');return str('',{'':g})}),'function'!==typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(g,h){var l,m,o=g[h];if(o&&'object'===typeof o)for(l in o)Object.hasOwnProperty.call(o,l)&&(m=walk(o,l),void 0===m?delete o[l]:o[l]=m);return reviver.call(g,h,o)}var j;if(text+='',cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(g){return'\\u'+('0000'+g.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,'')))return j=eval('('+text+')'),'function'===typeof reviver?walk({'':j},''):j;throw new SyntaxError('JSON.parse')})})();var assert=this.assert={},types={},core={},nodeunit={},reporter={};return function(){var g={},h=this,l=h.async;'undefined'!==typeof module&&module.exports?module.exports=g:h.async=g,g.noConflict=function(){return h.async=l,g};var m=function(F,G){if(F.forEach)return F.forEach(G);for(var H=0;H<F.length;H+=1)G(F[H],H,F)},o=function(F,G){if(F.map)return F.map(G);var H=[];return m(F,function(I,J,K){H.push(G(I,J,K))}),H},p=function(F,G,H){return F.reduce?F.reduce(G,H):(m(F,function(I,J,K){H=G(H,I,J,K)}),H)},s=function(F){if(Object.keys)return Object.keys(F);var G=[];for(var H in F)F.hasOwnProperty(H)&&G.push(H);return G},t=function(F,G){if(F.indexOf)return F.indexOf(G);for(var H=0;H<F.length;H+=1)if(F[H]===G)return H;return-1};g.nextTick='function'===typeof setImmediate?function(F){setImmediate(F)}:'undefined'!==typeof process&&process.nextTick?process.nextTick:function(F){setTimeout(F,0)},g.forEach=function(F,G,H){if(!F.length)return H();var I=0;m(F,function(J){G(J,function(K){K?(H(K),H=function(){}):(I+=1,I===F.length&&H())})})},g.forEachSeries=function(F,G,H){if(!F.length)return H();var I=0,J=function(){G(F[I],function(K){K?(H(K),H=function(){}):(I+=1,I===F.length?H():J())})};J()};var u=function(F){return function(){var G=Array.prototype.slice.call(arguments);return F.apply(null,[g.forEach].concat(G))}},w=function(F){return function(){var G=Array.prototype.slice.call(arguments);return F.apply(null,[g.forEachSeries].concat(G))}},z=function(F,G,H,I){var J=[];G=o(G,function(K,L){return{index:L,value:K}}),F(G,function(K,L){H(K.value,function(M,N){J[K.index]=N,L(M)})},function(K){I(K,J)})};g.map=u(z),g.mapSeries=w(z),g.reduce=function(F,G,H,I){g.forEachSeries(F,function(J,K){H(G,J,function(L,M){G=M,K(L)})},function(J){I(J,G)})},g.inject=g.reduce,g.foldl=g.reduce,g.reduceRight=function(F,G,H,I){var J=o(F,function(K){return K}).reverse();g.reduce(J,G,H,I)},g.foldr=g.reduceRight;var A=function(F,G,H,I){var J=[];G=o(G,function(K,L){return{index:L,value:K}}),F(G,function(K,L){H(K.value,function(M){M&&J.push(K),L()})},function(){I(o(J.sort(function(L,M){return L.index-M.index}),function(L){return L.value}))})};g.filter=u(A),g.filterSeries=w(A),g.select=g.filter,g.selectSeries=g.filterSeries;var B=function(F,G,H,I){var J=[];G=o(G,function(K,L){return{index:L,value:K}}),F(G,function(K,L){H(K.value,function(M){M||J.push(K),L()})},function(){I(o(J.sort(function(L,M){return L.index-M.index}),function(L){return L.value}))})};g.reject=u(B),g.rejectSeries=w(B);var C=function(F,G,H,I){F(G,function(J,K){H(J,function(L){L?I(J):K()})},function(){I()})};g.detect=u(C),g.detectSeries=w(C),g.some=function(F,G,H){g.forEach(F,function(I,J){G(I,function(K){K&&(H(!0),H=function(){}),J()})},function(){H(!1)})},g.any=g.some,g.every=function(F,G,H){g.forEach(F,function(I,J){G(I,function(K){K||(H(!1),H=function(){}),J()})},function(){H(!0)})},g.all=g.every,g.sortBy=function(F,G,H){g.map(F,function(I,J){G(I,function(K,L){K?J(K):J(null,{value:I,criteria:L})})},function(I,J){if(I)return H(I);H(null,o(J.sort(function(L,M){var N=L.criteria,O=M.criteria;return N<O?-1:N>O?1:0}),function(L){return L.value}))})},g.auto=function(F,G){G=G||function(){};var H=s(F);if(!H.length)return G(null);var I=[],J=[],K=function(N){J.unshift(N)},L=function(N){for(var O=0;O<J.length;O+=1)if(J[O]===N)return void J.splice(O,1)},M=function(){m(J,function(N){N()})};K(function(){I.length===H.length&&G(null)}),m(H,function(N){var O=F[N]instanceof Function?[F[N]]:F[N],P=function(T){T?(G(T),G=function(){}):(I.push(N),M())},Q=O.slice(0,Math.abs(O.length-1))||[],R=function(){return p(Q,function(T,U){return T&&-1!==t(I,U)},!0)};if(R())O[O.length-1](P);else{var S=function(){R()&&(L(S),O[O.length-1](P))};K(S)}})},g.waterfall=function(F,G){if(!F.length)return G();G=G||function(){};var H=function(I){return function(J){if(J)G(J),G=function(){};else{var K=Array.prototype.slice.call(arguments,1),L=I.next();L?K.push(H(L)):K.push(G),g.nextTick(function(){I.apply(null,K)})}}};H(g.iterator(F))()},g.parallel=function(F,G){if(G=G||function(){},F.constructor===Array)g.map(F,function(I,J){I&&I(function(K){var L=Array.prototype.slice.call(arguments,1);1>=L.length&&(L=L[0]),J.call(null,K,L||null)})},G);else{var H={};g.forEach(s(F),function(I,J){F[I](function(K){var L=Array.prototype.slice.call(arguments,1);1>=L.length&&(L=L[0]),H[I]=L,J(K)})},function(I){G(I,H)})}},g.series=function(F,G){if(G=G||function(){},F.constructor===Array)g.mapSeries(F,function(I,J){I&&I(function(K){var L=Array.prototype.slice.call(arguments,1);1>=L.length&&(L=L[0]),J.call(null,K,L||null)})},G);else{var H={};g.forEachSeries(s(F),function(I,J){F[I](function(K){var L=Array.prototype.slice.call(arguments,1);1>=L.length&&(L=L[0]),H[I]=L,J(K)})},function(I){G(I,H)})}},g.iterator=function(F){var G=function(H){var I=function(){return F.length&&F[H].apply(null,arguments),I.next()};return I.next=function(){return H<F.length-1?G(H+1):null},I};return G(0)},g.apply=function(F){var G=Array.prototype.slice.call(arguments,1);return function(){return F.apply(null,G.concat(Array.prototype.slice.call(arguments)))}};var D=function(F,G,H,I){var J=[];F(G,function(K,L){H(K,function(M,N){J=J.concat(N||[]),L(M)})},function(K){I(K,J)})};g.concat=u(D),g.concatSeries=w(D),g.whilst=function(F,G,H){F()?G(function(I){return I?H(I):void g.whilst(F,G,H)}):H()},g.until=function(F,G,H){F()?H():G(function(I){return I?H(I):void g.until(F,G,H)})},g.queue=function(F,G){var H=0,I=[],J={concurrency:G,push:function(K,L){I.push({data:K,callback:L}),g.nextTick(J.process)},process:function(){if(H<J.concurrency&&I.length){var K=I.splice(0,1)[0];H+=1,F(K.data,function(){H-=1,K.callback&&K.callback.apply(K,arguments),J.process()})}},length:function(){return I.length}};return J};var E=function(F){return function(G){var H=Array.prototype.slice.call(arguments,1);G.apply(null,H.concat([function(I){var J=Array.prototype.slice.call(arguments,1);'undefined'!==typeof console&&(I?console.error&&console.error(I):console[F]&&m(J,function(K){console[F](K)}))}]))}};g.log=E('log'),g.dir=E('dir'),g.memoize=function(F,G){var H={};return G=G||function(I){return I},function(){var I=Array.prototype.slice.call(arguments),J=I.pop(),K=G.apply(null,I);K in H?J.apply(null,H[K]):F.apply(null,I.concat([function(){H[K]=arguments,J.apply(null,arguments)}]))}}}(),function(g){function h(C,D,E,F,G){throw new z.AssertionError({message:E,actual:C,expected:D,operator:F,stackStartFunction:G})}function l(C,D){return C===D||(C instanceof Date&&D instanceof Date?C.getTime()===D.getTime():C instanceof RegExp&&D instanceof RegExp?C.source===D.source&&C.global===D.global&&C.ignoreCase===D.ignoreCase&&C.multiline===D.multiline:B&&C instanceof B&&D instanceof B?function(){var E,F;for(E=0,F=D.length;E<F;E++)if(C[E]!==D[E])return!1;return C.length===D.length}():'object'!=typeof C&&'object'!=typeof D?C==D:p(C,D))}function m(C){return null===C||void 0===C}function o(C){return'[object Arguments]'==Object.prototype.toString.call(C)}function p(C,D){if(m(C)||m(D))return!1;if(C.prototype!==D.prototype)return!1;if(o(C))return!!o(D)&&(C=w.call(C),D=w.call(D),l(C,D));try{var G,H,E=u(C),F=u(D)}catch(I){return!1}if(E.length!=F.length)return!1;for(E.sort(),F.sort(),H=E.length-1;0<=H;H--)if(E[H]!=F[H])return!1;for(H=E.length-1;0<=H;H--)if(G=E[H],!l(C[G],D[G]))return!1;return!0}function s(C,D){return C&&D&&(D instanceof RegExp?D.test(C.message||C):!!(C instanceof D)||!0===D.call({},C))}function t(C,D,E,F){var G;'string'===typeof E&&(F=E,E=null);try{D()}catch(H){G=H}if(F=(E&&E.name?' ('+E.name+').':'.')+(F?' '+F:'.'),C&&!G&&h('Missing expected exception'+F),!C&&s(G,E)&&h('Got unwanted exception'+F),C&&G&&E&&!s(G,E)||!C&&G)throw G}var u=function(C){if(Object.keys)return Object.keys(C);if('object'!=typeof C&&'function'!=typeof C)throw new TypeError('-');var D=[];for(var E in C)C.hasOwnProperty(E)&&D.push(E);return D},w=Array.prototype.slice,z=g;z.AssertionError=function(D){this.name='AssertionError',this.message=D.message,this.actual=D.actual,this.expected=D.expected,this.operator=D.operator;var E=D.stackStartFunction||h;Error.captureStackTrace&&Error.captureStackTrace(this,E)},z.AssertionError.super_=Error;var A=function(){this.constructor=z.AssertionError};A.prototype=Error.prototype,z.AssertionError.prototype=new A,z.AssertionError.prototype.toString=function(){return this.message?[this.name+':',this.message].join(' '):[this.name+':','undefined'===typeof this.expected?'undefined':JSON.stringify(this.expected),this.operator,'undefined'===typeof this.actual?'undefined':JSON.stringify(this.actual)].join(' ')},z.AssertionError.__proto__=Error.prototype,z.fail=h,z.ok=function(D,E){!!D||h(D,!0,E,'==',z.ok)},z.equal=function(D,E,F){D!=E&&h(D,E,F,'==',z.equal)},z.notEqual=function(D,E,F){D==E&&h(D,E,F,'!=',z.notEqual)},z.deepEqual=function(D,E,F){l(D,E)||h(D,E,F,'deepEqual',z.deepEqual)};var B=null;if('undefined'!==typeof require&&'undefined'!==typeof process)try{B=require('buffer').Buffer}catch(C){B=null}z.notDeepEqual=function(D,E,F){l(D,E)&&h(D,E,F,'notDeepEqual',z.notDeepEqual)},z.strictEqual=function(D,E,F){D!==E&&h(D,E,F,'===',z.strictEqual)},z.notStrictEqual=function(D,E,F){D===E&&h(D,E,F,'!==',z.notStrictEqual)},z.throws=function(){t.apply(this,[!0].concat(w.call(arguments)))},z.doesNotThrow=function(){t.apply(this,[!1].concat(w.call(arguments)))},z.ifError=function(C){if(C)throw C}}(assert),function(g){g.assertion=function(l){return{method:l.method||'',message:l.message||l.error&&l.error.message||'',error:l.error,passed:function(){return!this.error},failed:function(){return!!this.error}}},g.assertionList=function(l,m){var o=l||[];return o.failures=function(){for(var p=0,s=0;s<this.length;s+=1)this[s].failed()&&(p+=1);return p},o.passes=function(){return o.length-o.failures()},o.duration=m||0,o};var h=function(l){return function(m,o,p){return function(){var s=arguments[p-1],t=g.assertion({method:m,message:s});try{assert[o].apply(null,arguments)}catch(u){t.error=u}l(t)}}};g.test=function(l,m,o,p){var s,t=[],u=h(function(A){t.push(A),o.log&&async.nextTick(function(){o.log(A)})}),w={done:function(A){if(void 0!==s&&s!==t.length){var B=new Error('Expected '+s+' assertions, '+t.length+' ran'),C=g.assertion({method:'expect',error:B});t.push(C),o.log&&async.nextTick(function(){o.log(C)})}if(A){var D=g.assertion({error:A});t.push(D),o.log&&async.nextTick(function(){o.log(D)})}var E=new Date().getTime();async.nextTick(function(){var F=g.assertionList(t,E-m);o.testDone(l,F),p(null,t)})},ok:u('ok','ok',2),same:u('same','deepEqual',3),equals:u('equals','equal',3),expect:function(A){s=A},_assertion_list:t};for(var z in assert)assert.hasOwnProperty(z)&&(w[z]=u(z,z,assert[z].length));return w},g.options=function(l){var m=function(o){l[o]=l[o]||function(){}};return m('moduleStart'),m('moduleDone'),m('testStart'),m('testReady'),m('testDone'),l}}(types),function(g){var h=function(s){if(Object.keys)return Object.keys(s);var t=[];for(var u in s)s.hasOwnProperty(u)&&t.push(u);return t},l=function(s){for(var t={},u=h(s),w=0;w<u.length;w+=1)t[u[w]]=s[u[w]];return t};g.runTest=function(s,t,u,w){var z=types.options(u);z.testStart(s);var A=new Date().getTime(),B=types.test(s,A,z,w);z.testReady(B);try{t(B)}catch(C){B.done(C)}},g.runSuite=function(s,t,u,w){t=p(t);var z=h(t);async.concatSeries(z,function(A,B){var D,C=t[A];if(D=s?[].concat(s,A):[A],D.toString=function(){return this.join(' - ')},'function'===typeof C){for(var E=!1,F=D.toString()===u.testFullSpec,G=0;G<D.length;G+=1)D[G]===u.testspec&&(E=!0);if((!u.testFullSpec||F)&&(!u.testspec||E))u.moduleStart&&u.moduleStart(),g.runTest(D,t[A],u,B);else return B()}else g.runSuite(D,t[A],u,B)},w)},g.runModule=function(s,t,u,w){var A=l(types.options(u)),B=!1,C=A.moduleStart;t=p(t),A.moduleStart=function(){B||(B=!0,C(s))};var D=new Date().getTime();g.runSuite(null,t,A,function(E,F){var G=new Date().getTime(),H=types.assertionList(F,G-D);A.moduleDone(s,H),nodeunit.complete&&nodeunit.complete(s,H),w(null,F)})},g.runModules=function(s,t){var w=types.options(t),z=new Date().getTime();async.concatSeries(h(s),function(A,B){g.runModule(A,s[A],w,B)},function(A,B){var C=new Date().getTime();w.done(types.assertionList(B,C-z))})};var m=function(s,t,u){return function(w){var z={};if(t){var A=w.done;w.done=function(B){try{t.call(z,function(C){return B&&C?(w._assertion_list.push(types.assertion({error:B})),A(C)):void A(B||C)})}catch(C){A(C)}}}s?s.call(z,function(B){return B?w.done(B):void u.call(z,w)}):u.call(z,w)}},o=function(s){return s.length?function(t){for(var u=this,w=[],z=0,A=s.length;z<A;z++)(function(B){w.push(function(){return s[B].apply(u,arguments)})})(z);return async.series(w,t)}:null},p=function(s,t,u){var w={},t=t?t.slice():[],u=u?u.slice():[];s.setUp&&(t.push(s.setUp),delete s.setUp),s.tearDown&&(u.unshift(s.tearDown),delete s.tearDown);for(var B,z=h(s),A=0;A<z.length;A+=1)B=z[A],'function'===typeof s[B]?w[B]=m(o(t),o(u),s[B]):'object'===typeof s[B]&&(w[B]=p(s[B],t,u));return w};g.testCase=function(s){return s}}(core),function(g){g.info='Browser-based test reporter',g.run=function(h,l,m){function p(C,D){var E=document.getElementById(D);return E||(E=document.createElement(C),E.id=D,t.appendChild(E)),E}var t,s=new Date().getTime();l=l||{},t=l.div||document.body;var u=p('h1','nodeunit-header'),w=p('h2','nodeunit-banner'),z=p('h2','nodeunit-userAgent'),A=p('ol','nodeunit-tests'),B=p('p','nodeunit-testresult');(function(C,D){'innerText'in C?C.innerText=D:'textContent'in C&&(C.textContent=D)})(z,navigator.userAgent),nodeunit.runModules(h,{moduleStart:function(){},testDone:function(C,D){var E=document.createElement('li'),F=document.createElement('strong');F.innerHTML=C+' <b style="color: black;">(<b class="fail">'+D.failures()+'</b>, <b class="pass">'+D.passes()+'</b>, '+D.length+')</b>',E.className=D.failures()?'fail':'pass',E.appendChild(F);var G=document.createElement('ol');G.style.display='none',E.onclick=function(){var K=G.style.display;G.style.display='none'==K?'block':'none'};for(var H=0;H<D.length;H++){var I=document.createElement('li'),J=D[H];J.failed()?(I.innerHTML=(J.message||J.method||'no message')+'<pre>'+(J.error.stack||J.error)+'</pre>',I.className='fail'):(I.innerHTML=J.message||J.method||'no message',I.className='pass'),G.appendChild(I)}E.appendChild(G),A.appendChild(E)},done:function(C){var D=new Date().getTime(),F=C.failures();w.className=F?'fail':'pass',B.innerHTML='Tests completed in '+(D-s)+' milliseconds.<br/><span class="passed">'+C.passes()+'</span> assertions of <span class="all">'+C.length+'<span> passed, '+C.failures()+' failed.',m&&m(C.failures()?new Error('We have got test failures.'):void 0)}})}}(reporter),nodeunit=core,nodeunit.assert=assert,nodeunit.reporter=reporter,nodeunit.run=reporter.run,nodeunit}();