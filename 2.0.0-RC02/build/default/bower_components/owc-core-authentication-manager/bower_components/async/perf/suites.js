var _=require("lodash"),tasks;module.exports=[{name:"each",args:[[10],[300],[10000]],setup:function(a){tasks=_.range(a)},fn:function(a,b){a.each(tasks,function(c,d){a.setImmediate(d)},b)}},{name:"eachSeries",args:[[10],[300],[10000]],setup:function(a){tasks=_.range(a)},fn:function(a,b){a.eachSeries(tasks,function(c,d){a.setImmediate(d)},b)}},{name:"eachLimit",args:[[10],[300],[10000]],setup:function(a){tasks=_.range(a)},fn:function(a,b){a.eachLimit(tasks,4,function(c,d){a.setImmediate(d)},b)}},{name:"map",args:[[10],[300],[10000]],setup:function(a){tasks=_.range(a)},fn:function(a,b){a.map(tasks,function(c,d){a.setImmediate(d)},b)}},{name:"mapSeries",args:[[10],[300],[10000]],setup:function(a){tasks=_.range(a)},fn:function(a,b){a.mapSeries(tasks,function(c,d){a.setImmediate(d)},b)}},{name:"mapLimit",args:[[10],[300],[10000]],setup:function(a){tasks=_.range(a)},fn:function(a,b){a.mapLimit(tasks,4,function(c,d){a.setImmediate(d)},b)}},{name:"eachOf",args:[[10],[300],[10000]],setup:function(a){tasks=_.range(a)},fn:function(a,b){a.eachOf(tasks,function(c,d,e){a.setImmediate(e)},b)}},{name:"eachOfSeries",args:[[10],[300],[10000]],setup:function(a){tasks=_.range(a)},fn:function(a,b){a.eachOfSeries(tasks,function(c,d,e){a.setImmediate(e)},b)}},{name:"eachOfLimit",args:[[10],[300],[10000]],setup:function(a){tasks=_.range(a)},fn:function(a,b){a.eachOfLimit(tasks,4,function(c,d,e){a.setImmediate(e)},b)}},{name:"parallel",args:[[10],[100],[1000]],setup:function(a){tasks=_.range(a).map(function(){return function(b){setImmediate(b)}})},fn:function(a,b){a.parallel(tasks,b)}},{name:"series",args:[[10],[100],[1000]],setup:function(a){tasks=_.range(a).map(function(){return function(b){setImmediate(b)}})},fn:function(a,b){a.series(tasks,b)}},{name:"waterfall",args:[[10],[100],[1000]],setup:function(a){tasks=[function(b){return b(null,1)}].concat(_.range(a).map(function(b){return function(c,d){setImmediate(function(){d(null,b)})}}))},fn:function(a,b){a.waterfall(tasks,b)}},{name:"queue",args:[[1000],[30000],[100000],[200000]],setup:function(a){tasks=a},fn:function(a,b){function c(g,h){return g.num===d?b():void setImmediate(h)}for(var d=tasks,e=a.queue(c,1),f=1;f<=d;f++)e.push({num:f})}},{name:"some - no short circuit- false",args:[[500]],setup:function(a){tasks=_.range(a)},fn:function(a,b){a.some(tasks,function(c,d){a.setImmediate(function(){d(600<=c)})},b)}},{name:"some - short circuit - true",args:[[500]],setup:function(a){tasks=_.range(a)},fn:function(a,b){a.some(tasks,function(c,d){a.setImmediate(function(){d(60<=c)})},b)}},{name:"every - no short circuit- true",args:[[500]],setup:function(a){tasks=_.range(a)},fn:function(a,b){a.every(tasks,function(c,d){a.setImmediate(function(){d(600>=c)})},b)}},{name:"every - short circuit - false",args:[[500]],setup:function(a){tasks=_.range(a)},fn:function(a,b){a.every(tasks,function(c,d){a.setImmediate(function(){d(60>=c)})},b)}},{name:"defer nextTick",fn:function(a,b){process.nextTick(b)}},{name:"defer setImmediate",fn:function(a,b){setImmediate(b)}},{name:"defer async.nextTick",fn:function(a,b){a.nextTick(b)}},{name:"defer async.setImmediate",fn:function(a,b){a.setImmediate(b)}},{name:"defer setTimeout",fn:function(a,b){setTimeout(b,0)}},{name:"ensureAsync sync",fn:function(a,b){a.ensureAsync(function(c){c()})(b)}},{name:"ensureAsync async",fn:function(a,b){a.ensureAsync(function(c){setImmediate(c)})(b)}},{name:"ensureAsync async noWrap",fn:function(a,b){(function(c){setImmediate(c)})(b)}}];