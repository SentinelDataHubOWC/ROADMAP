!function(b){var c=b.util.clone(b.languages.javascript);b.languages.jsx=b.languages.extend("markup",c),b.languages.jsx.tag.pattern=/<\/?[\w.:-]+\s*(?:\s+(?:[\w.:-]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s{'">=]+|\{(?:\{[^}]*\}|[^{}])+\}))?|\{\.{3}[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\}))*\s*\/?>/i,b.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">]+)/i,b.languages.insertBefore("inside","attr-name",{spread:{pattern:/\{\.{3}[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\}/,inside:{punctuation:/\.{3}|[{}.]/,"attr-value":/\w+/}}},b.languages.jsx.tag),b.languages.insertBefore("inside","attr-value",{script:{pattern:/=(\{(?:\{[^}]*\}|[^}])+\})/i,inside:{"script-punctuation":{pattern:/^=(?={)/,alias:"punctuation"},rest:b.languages.jsx},alias:"language-javascript"}},b.languages.jsx.tag);var d=function(h){return"string"==typeof h?h:"string"==typeof h.content?h.content:h.content.map(d).join("")},f=function(h){for(var j=[],k=0;k<h.length;k++){var l=h[k],m=!1;if("string"!=typeof l&&("tag"===l.type&&l.content[0]&&"tag"===l.content[0].type?"</"===l.content[0].content[0].content?0<j.length&&j[j.length-1].tagName===d(l.content[0].content[1])&&j.pop():"/>"===l.content[l.content.length-1].content||j.push({tagName:d(l.content[0].content[1]),openedBraces:0}):0<j.length&&"punctuation"===l.type&&"{"===l.content?j[j.length-1].openedBraces++:0<j.length&&0<j[j.length-1].openedBraces&&"punctuation"===l.type&&"}"===l.content?j[j.length-1].openedBraces--:m=!0),(m||"string"==typeof l)&&0<j.length&&0===j[j.length-1].openedBraces){var q=d(l);k<h.length-1&&("string"==typeof h[k+1]||"plain-text"===h[k+1].type)&&(q+=d(h[k+1]),h.splice(k+1,1)),0<k&&("string"==typeof h[k-1]||"plain-text"===h[k-1].type)&&(q=d(h[k-1])+q,h.splice(k-1,1),k--),h[k]=new b.Token("plain-text",q,null,q)}l.content&&"string"!=typeof l.content&&f(l.content)}};b.hooks.add("after-tokenize",function(h){("jsx"===h.language||"tsx"===h.language)&&f(h.tokens)})}(Prism);